{% extends 'ams/base_hr_new.html' %}

{% block main %}
  {% load static %}
        <!-- page content -->
        <div class="right_col" role="main">
            <!-- top tiles -->
            <div class="row" >
            </div>
            <!-- /top tiles -->

          <div class="page-title">
            <div class="title_left">
              <h3>Onboarding</h3>
            </div>
          </div>
          <div class="row mb-5">
            <div class="col-md-12">
              <div class="card">
                <div class="card-header">
                  <h2>Onboarding</h2>
                </div>
                <div class="card-body">
                  <form method="post" action="/ams/onboarding" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="row">
                      <div class="col-md-12">
                        <h4>Personal Details</h4>
                        <hr>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_name">Name(As per Aadhar)</label>
                          <input type="text" name="emp_name" required id="emp_name" class="form-control">
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_dob">Date Of Birth (DD/MM/YYYY)</label>
                          <input type="date" name="emp_dob" required id="emp_dob" max="2006-01-01" class="form-control">
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_desg">Designation (Refer offer letter and mention)</label>
                          <input type="text" name="emp_desg" required id="emp_desg" class="form-control">
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_pro">Process (Refer offer letter and mention)</label>
                          <input type="text" name="emp_pro" required id="emp_pro" class="form-control">
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_pan">PAN Number</label>
                          <input type="text" name="emp_pan" id="emp_pan" maxlength="10" class="form-control">
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_aad">Aadhar Number</label>
                          <input type="number" name="emp_aad" id="emp_aad" pattern="/^-?\d+\.?\d*$/" onKeyPress="if(this.value.length==12) return false;" onfocusout="testing(this);" required class="form-control">
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_fat">Father's Name</label>
                          <input type="text" required name="emp_fat" id="emp_fat" class="form-control">
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_mar">Marital Status</label>
                          <select name="emp_mar" id="emp_mar" class="form-control" required>
                            <option value="Single">Single</option>
                            <option value="Married">Married</option>
                          </select>
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_email">Email Address</label>
                          <input type="email" required name="emp_email" id="emp_email" class="form-control">
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_ph">Contact Number (Without +91 / 0)</label>
                          <input type="number" required pattern="/^-?\d+\.?\d*$/" onKeyPress="if(this.value.length==10) return false;" name="emp_ph" id="emp_ph" class="form-control">
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_add">Present Address</label>
                          <textarea name="emp_add" required id="emp_add" class="form-control" rows="4"></textarea>
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_pre_add">Permanent Address</label>
                          <textarea name="emp_pre_add" required id="emp_pre_add" class="form-control" rows="4"></textarea>
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_alph">Alternate Contact Number (Without +91 / 0)</label>
                          <input type="number" name="emp_alph" pattern="/^-?\d+\.?\d*$/" onKeyPress="if(this.value.length==10) return false;" id="emp_alph" class="form-control">
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_blo">Blood Group</label>
                          <select name="emp_blo" id="emp_blo" class="form-control select2" required>
                            <option value="" selected disabled>Please Select</option>
                            <option value="A+">A+</option>
                            <option value="A-">A-</option>
                            <option value="B+">B+</option>
                            <option value="B-">B-</option>
                            <option value="O+">O+</option>
                            <option value="O-">O-</option>
                            <option value="AB+">AB+</option>
                            <option value="AB-">AB-</option>
                          </select>
                        </div>
                      </div>
                    </div>
                    <div class="row mt-4">
                      <div class="col-md-12">
                        <h4>Emergency Contact 1</h4>
                        <p>Person to be contacted in case of emergency.</p>
                        <hr>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_emer_name">Name</label>
                          <input type="text" required name="emp_emer_name" id="emp_emer_name" class="form-control">
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_emer_ph">Phone Number (Without +91 / 0)</label>
                          <input type="number" required pattern="/^-?\d+\.?\d*$/" onKeyPress="if(this.value.length==10) return false;" name="emp_emer_ph" id="emp_emer_ph" class="form-control">
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_emer_add">Address</label>
                          <textarea name="emp_emer_add" required id="emp_emer_add" class="form-control" rows="4"></textarea>
                        </div>
                      </div>
                    </div>
                    <div class="row mt-4">
                      <div class="col-md-12">
                        <h4>Emergency Contact 2</h4>
                        <p>Person to be contacted in case of emergency.</p>
                        <hr>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_emer_name2">Name</label>
                          <input type="text" required name="emp_emer_name2" id="emp_emer_name2" class="form-control">
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_emer_ph2">Phone Number (Without +91 / 0)</label>
                          <input type="number" pattern="/^-?\d+\.?\d*$/" onKeyPress="if(this.value.length==10) return false;" required name="emp_emer_ph2" id="emp_emer_ph2" class="form-control">
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_emer_add2">Address</label>
                          <textarea name="emp_emer_add2" required id="emp_emer_add2" class="form-control" rows="4"></textarea>
                        </div>
                      </div>
                    </div>
                    <div class="row mt-4">
                      <div class="col-md-12">
                        <h4>Qualification Details</h4>
                        <!-- <p>Person to be contacted in case of emergency.</p> -->
                        <hr>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_high_qua">Highest Qualification</label>
                          <select name="emp_high_qua" id="emp_high_qua" class="form-control select2" required onchange="other_qualification(this);">
                            <option value="" selected disabled>Please Select</option>
                            <option value="10th">10th</option>
                            <option value="12th/PUC">12th/PUC</option>
                            <option value="Diploma">Diploma</option>
                            <option value="Graduate">Graduate</option>
                            <option value="Post Graduate(Masters)">Post Graduate(Masters)</option>
                            <option value="Others">Others</option>
                          </select>
                          <input type="text" class="form-control mt-2 d-none" name="other_quli" id="other_quli" placeholder="Please mention your qualification.">
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_cou">Highest Course</label>
                          <input type="text" name="emp_cou" id="emp_cou" class="form-control" required>
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_ins">Highest Course Institution Name</label>
                          <input type="text" name="emp_ins" id="emp_ins" class="form-control" required>
                        </div>
                      </div>
                    </div>
                    <div class="row mt-4" id="experience_1">
                      <div class="col-md-12">
                        <h4>Previous Work / Experience 1</h4>
                        <!-- <p>Person to be contacted in case of emergency.</p> -->
                        <hr>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_exp">Experience in Years</label>
                          <input type="number" name="emp_exp" min="0" value="0" id="emp_exp" class="form-control">
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_ind">Industry (Ex : Agriculture/IT/BPO)</label>
                          <input type="text" name="emp_ind" id="emp_ind" class="form-control">
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_pre_org">Name of previous organisation</label>
                          <input type="text" name="emp_pre_org" id="emp_pre_org" class="form-control">
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_pre_desg">Previous Designation</label>
                          <input type="text" name="emp_pre_desg" id="emp_pre_desg" class="form-control">
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="emp_pre_empl">Period of Employment</label>
                          <div style="display: inline-flex; width: 100%">
                            <input type="date" onchange="mydate1(this);" name="emp_pre_empl_from" id="emp_pre_empl" placeholder="From" class="form-control">
                            <input type="date" name="emp_pre_empl_to" id="emp_pre_emplend" class="form-control" placeholder="To">
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row mt-4">
                      <div class="col-md-12" align="center">
                        <button type="button" class="btn btn-primary" onclick="addMore();">Add More</button>
                      </div>
                    </div>
                    <div class="row mt-4">
                      <div class="col-md-12">
                        <h4>Bank Account Details</h4>
                        <!-- <p>Person to be contacted in case of emergency.</p> -->
                        <hr>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="emp_bank_name">Account Holder Name</label>
                          <input type="text" required name="emp_bank_name" id="emp_bank_name" class="form-control">
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="emp_bank_na">Bank Name</label>
                          <input type="text" required name="emp_bank_na" id="emp_bank_na" class="form-control">
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="emp_bank_no">Account Number</label>
                          <input type="number" required name="emp_bank_no" id="emp_bank_no" class="form-control">
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="emp_bank_ifsc">IFSC Code</label>
                          <input type="text" required name="emp_bank_ifsc"  maxlength="11" id="emp_bank_ifsc" class="form-control">
                        </div>
                      </div>
                    </div>
                    <div class="row mt-4">
                      <div class="col-md-12">
                        <h4>Documentation Form</h4>
                        <!-- <p>Person to be contacted in case of emergency.</p> -->
                        <hr>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="have_system">Do you have your own system/laptop?</label>
                          <div style="display: inline-flex; width: 100%" id="have_system">
                            <input type="radio" required name="have_system" id="have_system_1" value="Yes" style="transform: scale(1.5); margin: 3px 8px 0 0;">
                            <label for="have_system_1">Yes</label>
                            <input type="radio" required name="have_system" id="have_system_0" value="No" style="transform: scale(1.5); margin: 3px 8px 0 10px;">
                            <label for="have_system_0">No</label>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="require_system">Do you require a system to be provided from the company?</label>
                          <div style="display: inline-flex; width: 100%" id="require_system">
                            <input type="radio" required name="require_system" value="Yes" id="require_system_1" style="transform: scale(1.5); margin: 3px 8px 0 0;">
                            <label for="require_system_1">Yes</label>
                            <input type="radio" required name="require_system" value="No" id="require_system_0" style="transform: scale(1.5); margin: 3px 8px 0 10px;">
                            <label for="require_system_0">No</label>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="wifi">Do you have Wifi/Broadbrand services at home? if yes the amount can be claimed will be reimbursed by submitting the broadbrand bill every month</label>
                          <div style="display: inline-flex; width: 100%" id="wifi">
                            <input type="radio" required name="wifi" id="wifi_1" value="Yes" style="transform: scale(1.5); margin: 3px 8px 0 0;">
                            <label for="wifi_1">Yes</label>
                            <input type="radio" required name="wifi" id="wifi_0" value="No" style="transform: scale(1.5); margin: 3px 8px 0 10px;">
                            <label for="wifi_0">No</label>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row mt-4">
                      <div class="col-md-12">
                        <h4>Upload Documents</h4>
                        <!-- <p>Person to be contacted in case of emergency.</p> -->
                        <hr>
                      </div>
                      <div class="col-md-3 mt-5">
                        <div class="form-group">
                          <label for="emp_up_aad">Aadhar Card Front</label>
                          <input type="file" name="emp_up_aad" id="emp_up_aad" class="uploadFile form-control" required>
                        </div>
                      </div>
                      <div class="col-md-3 mt-5">
                        <div class="form-group">
                          <label for="emp_up_aad_back">Aadhar Card Back</label>
                          <input type="file" name="emp_up_aad_back" id="emp_up_aad_back" class="uploadFile form-control" required>
                        </div>
                      </div>
                      <div class="col-md-3 mt-5">
                        <div class="form-group">
                          <label for="emp_up_id">ID Proof Document - Passport/DL/Voters ID/Other (Government Approved) Front</label>
                          <input type="file" name="emp_up_id" id="emp_up_id" class="uploadFile form-control" required>
                        </div>
                      </div>
                      <div class="col-md-3 mt-5">
                        <div class="form-group">
                          <label for="emp_up_id_back">ID Proof Document - Passport/DL/Voters ID/Other (Government Approved) Back</label>
                          <input type="file" name="emp_up_id_back" id="emp_up_id_back" class="uploadFile form-control" required>
                        </div>
                      </div>
                      <div class="col-md-4 mt-5">
                        <div class="form-group">
                          <label for="emp_up_edu">Educational Documents (10th)</label>
                          <input type="file" name="emp_up_edu" id="emp_up_edu" class="uploadFile form-control" required>
                        </div>
                      </div>
                      <div class="col-md-4 mt-5">
                        <div class="form-group">
                          <label for="emp_up_edu_12">Educational Documents (12th)</label>
                          <input type="file" name="emp_up_edu_12" id="emp_up_edu_12" class="uploadFile form-control">
                        </div>
                      </div>
                      <div class="col-md-4 mt-5">
                        <div class="form-group">
                          <label for="emp_up_edu_gra">Educational Documents (Graduation/Post Graduation)</label>
                          <input type="file" name="emp_up_edu_gra" id="emp_up_edu_gra" class="uploadFile form-control">
                        </div>
                      </div>
                      <div class="col-md-4 mt-5">
                        <div class="form-group">
                          <label for="emp_up_pan">PAN Card</label>
                          <input type="file" name="emp_up_pan" id="emp_up_pan" class="uploadFile form-control">
                        </div>
                      </div>
                      <div class="col-md-4 mt-5">
                        <div class="form-group">
                          <label for="emp_up_cer">Certificates of work experience (If any) 1</label>
                          <input type="file" name="emp_up_cer" id="emp_up_cer" class="uploadFile form-control">
                        </div>
                      </div>
                      <div class="col-md-4 mt-5">
                        <div class="form-group">
                          <label for="emp_up_cer_2">Certificates of work experience (If any) 2</label>
                          <input type="file" name="emp_up_cer_2" id="emp_up_cer_2" class="uploadFile form-control">
                        </div>
                      </div>
                      <div class="col-md-4 mt-5">
                        <div class="form-group">
                          <label for="emp_up_cer_3">Certificates of work experience (If any) 3</label>
                          <input type="file" name="emp_up_cer_3" id="emp_up_cer_3" class="uploadFile form-control">
                        </div>
                      </div>
                      <div class="col-md-4 mt-5">
                        <div class="form-group">
                          <label for="emp_up_bank">Cancelled cheque/passbook/bank statement (to validate your account details)</label>
                          <input type="file" name="emp_up_bank" id="emp_up_bank" class="uploadFile form-control" required>
                        </div>
                      </div>
                    </div>

                    <div class="row mt-4">
                      <div class="col-md-12">
                        <h4>Important Questions</h4>
                        <!-- <p>Person to be contacted in case of emergency.</p> -->
                        <hr>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="ESIC" style="font-size: 18px; font-weight: 600;">ESIC</label>
                          <div style="display: inline-flex; width: 100%" id="ESIC">
                            <input type="radio" required name="esic" id="ESIC_1" value="Yes" style="transform: scale(1.5); margin: 3px 8px 0 0;">
                            <label for="ESIC_1">Yes</label>
                            <input type="radio" required name="esic" id="ESIC_0" value="No" style="transform: scale(1.5); margin: 3px 8px 0 10px;">
                            <label for="ESIC_0">No</label>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="PF" style="font-size: 18px; font-weight: 600;">PF</label>
                          <div style="display: inline-flex; width: 100%" id="PF">
                            <input type="radio" required name="pf" id="PF_1" value="Yes" style="transform: scale(1.5); margin: 3px 8px 0 0;">
                            <label for="PF_1">Yes</label>
                            <input type="radio" required name="pf" id="PF_0" value="No" style="transform: scale(1.5); margin: 3px 8px 0 10px;">
                            <label for="PF_0">No</label>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="TDS" style="font-size: 18px; font-weight: 600;">TDS</label>
                          <div style="display: inline-flex; width: 100%" id="TDS">
                            <input type="radio" required name="tds" id="TDS_1" value="Yes" style="transform: scale(1.5); margin: 3px 8px 0 0;">
                            <label for="TDS_1">Yes</label>
                            <input type="radio" required name="tds" id="TDS_0" value="No" style="transform: scale(1.5); margin: 3px 8px 0 10px;">
                            <label for="TDS_0">No</label>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="PT" style="font-size: 18px; font-weight: 600;">PT</label>
                          <div style="display: inline-flex; width: 100%" id="PT">
                            <input type="radio" required name="pt" id="PT_1" value="Yes" style="transform: scale(1.5); margin: 3px 8px 0 0;">
                            <label for="PT_1">Yes</label>
                            <input type="radio" required name="pt" id="PT_0" value="No" style="transform: scale(1.5); margin: 3px 8px 0 10px;">
                            <label for="PT_0">No</label>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row mb-5 mt-4">
                      <div class="col-md-12">
                        <button type="submit" onclick="return confirmm();" class="btn btn-success form-control">Submit</button>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>


        </div>
        <!-- /page content -->

<script src="{% static 'assets/vendors/moment/moment.js' %}"></script>


<script>
function other_qualification(e) {
  var other = $("#other_quli");
  if (e.value == "Others"){
    other.removeClass("d-none");
    other.attr("required","required");
  } else {
    other.addClass("d-none");
    other.removeAttr("required","required");
  }
}
var n=1;

$today = new Date();
$today = moment($today).format('YYYY-MM-DD');
$('#emp_pre_empl').attr("max", $today);
$('#emp_pre_emplend').attr("max", $today);

$('#emp_pre_empl_2').attr("max", $today);
$('#emp_pre_emplend_2').attr("max", $today);

$('#emp_pre_empl_3').attr("max", $today);
$('#emp_pre_emplend_3').attr("max", $today);

function mydate1(e) {
  $start = $('#emp_pre_empl').val();
  $end = $('#emp_pre_emplend');
  $end.attr("min", $start);
}

function addMore() {
  n=n+1;
  var ex = document.getElementById('experience_1');
  if (n<=3) {
    html = '<div class="row mt-4" id="experience_'+n+'">  <div class="col-md-12">    <h4>Previous Work / Experience '+n+'</h4>    <hr>  </div>  <div class="col-md-4">    <div class="form-group">      <label for="emp_exp_'+n+'">Experience in Years</label>      <input type="number" name="emp_exp_'+n+'" required min="0" value="0" id="emp_exp_'+n+'" class="form-control">    </div>  </div>  <div class="col-md-4">    <div class="form-group">      <label for="emp_ind_'+n+'">Industry (Ex : Agriculture/IT/BPO)</label>      <input type="text" name="emp_ind_'+n+'" required id="emp_ind_'+n+'" class="form-control">    </div>  </div>  <div class="col-md-4">    <div class="form-group">      <label for="emp_pre_org_'+n+'">Name of previous organisation</label>      <input type="text" name="emp_pre_org_'+n+'" required id="emp_pre_org_'+n+'" class="form-control">    </div>  </div>  <div class="col-md-4">    <div class="form-group">      <label for="emp_pre_desg_'+n+'">Previous Designation</label>      <input type="text" name="emp_pre_desg_'+n+'" required id="emp_pre_desg_'+n+'" class="form-control">    </div>  </div>  <div class="col-md-4">    <div class="form-group">      <label for="emp_pre_empl_'+n+'">Period of Employment</label>      <div style="display: inline-flex; width: 100%">        <input type="date" name="emp_pre_empl_from_'+n+'" id="emp_pre_empl_'+n+'" onchange="mydate'+n+'(this);" required placeholder="From" class="form-control">        <input type="date" name="emp_pre_empl_to_'+n+'" id="emp_pre_emplend_'+n+'" class="form-control" required placeholder="To">      </div>    </div>  </div></div>';
    ex.insertAdjacentHTML('beforeend',html);
  } else {
    alert("Reached Maximum :)");
  }
}

  function mydate2(e) {
    $start = $('#emp_pre_empl_2').val();
    $end = $('#emp_pre_emplend_2');
    $end.attr("min", $start);
    $end.attr("max", $today);
  }
  function mydate3(e) {
    $start = $('#emp_pre_empl_3').val();
    $end = $('#emp_pre_emplend_3');
    $end.attr("min", $start);
    $end.attr("max", $today);
  }
</script>


<script type="text/javascript">
  var MAX_FILE_SIZE = 500 * 1024; // 500KB
  $(document).ready(function() {
      $('.uploadFile').change(function() {
          fileSize = this.files[0].size;
          if (fileSize > MAX_FILE_SIZE) {
              this.setCustomValidity("File must not exceed 500 KB!");
              this.reportValidity();
          } else {
              this.setCustomValidity("");
          }
      });
  });
</script>


{% endblock %}